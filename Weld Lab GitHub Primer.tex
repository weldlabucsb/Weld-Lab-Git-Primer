\documentclass[11pt]{article}
\usepackage{geometry}                % See geometry.pdf to learn the layout options. There are lots.
\geometry{letterpaper}                   % ... or a4paper or a5paper or ... 
%\geometry{landscape}                % Activate for for rotated page geometry
%\usepackage[parfill]{parskip}    % Activate to begin paragraphs with an empty line rather than an indent
\usepackage{graphicx}
\usepackage{amssymb}
\usepackage{mathrsfs}
\usepackage{epstopdf}
\usepackage{amsmath}
\DeclareGraphicsRule{.tif}{png}{.png}{`convert #1 `dirname #1`/`basename #1 .tif`.png}
\usepackage{fancyhdr}
\usepackage{setspace}  %Lets me use \vspace{10mm}
\usepackage{color}
\usepackage{parskip}
\usepackage{csquotes}
\usepackage{changepage}
\usepackage[makeroom]{cancel}
\usepackage{braket}

\usepackage{tikz}
\usetikzlibrary{arrows}
\usepackage{pgfplots}

\usepackage{caption}
\usepackage{subcaption}

\usepackage{hyperref}
\hypersetup{colorlinks = true,
 allcolors = blue,
 linkcolor = black}


\oddsidemargin = 0in
\topmargin = -0.1in
\headheight=9pt
\headsep = 0pt
\textheight = 8.5in
\textwidth = 6.5in
\marginparsep = 0in
\marginparwidth = 0in
\footskip = 0.5in


%%%%% FOOTER %%%%%
\pagestyle{fancy}
\fancyhf{}
%\rfoot{\copyright\ Peter Dotti 2016 \hspace{1cm}}
\cfoot{\thepage}

\renewcommand{\headrulewidth}{0pt}



%%%%% General %%%%%
    % Misc %
    \newcommand{\eq}[1]{\begin{equation*} \begin{split}   #1  \end{split} \end{equation*}}
    
    \newcommand{\EE}[1]{\times 10^{#1}}
    
    \newcommand{\krond}[1]{\delta_{#1}}
    
    \newcommand{\dg}{\dagger}
    
    \newcommand{\FT}{\mathscr{F}}
    
    \newcommand{\Scale}[2]{\scalebox{#1}{$#2$}}  %%% TO SCALE THINGS IN MATH MODE
   
    
    % Parentheses/Brakets/Etc. %
    \newcommand{\lef}{\left}
    \newcommand{\rig}{\right}
    
    \newcommand{\abs}[1]{\left| #1 \right|}
    
    \newcommand{\bk}{\braket}
    \newcommand{\BK}{\Braket}
    
    \newcommand{\kb}[2]{\ket{#1}\!\bra{#2}}
    \newcommand{\KB}[2]{\Ket{#1}\!\Bra{#2}}
    
    \newcommand{\spaceimplies}{\quad \quad \implies \quad \quad}
    
    % Symbols %
    \newcommand{\rta}{\rightarrow}
    \newcommand{\lfa}{\leftarrow}
    \newcommand{\upa}{\uparrow}
    \newcommand{\doa}{\downarrow}
    \newcommand{\hb}{\hbar}
    
    \newcommand{\tRe}{\text{Re}}
    \newcommand{\tIm}{\text{Im}}
    
    
    % Parallel/ Perpendicular %
    \newcommand{\para}{\parallel}
    \newcommand{\perpen}{\bot}
    
    %%%%% Derivative Shortcuts %%%%%
    \newcommand{\pd}[2]{\frac{\partial #1}{\partial #2}}
    \newcommand{\der}[2]{\frac{d #1}{d #2}}
    \newcommand{\derii}[2]{\frac{d^2 #1}{d {#2}^2}}
    \newcommand{\pdt}[1]{\frac{\partial #1}{\partial t}}
    \newcommand{\pa}{\partial}
    
    %%%%% Multivariable Derivatives %%%%%
    \newcommand{\dive}{\nabla\cdot}
    \newcommand{\curl}{\nabla\times}
    
    %% Differentials %%
    \newcommand{\dS}{d\mathbf{S}}
    \newcommand{\dl}{d\mathbf{l}}
    \newcommand{\dV}{d^3r}
    
    % E + M &
    \newcommand{\curlE}{\nabla \times \vE}
    \newcommand{\curlB}{\nabla \times \vB}
    \newcommand{\divE}{\nabla \cdot \vE}
    \newcommand{\divB}{\nabla \cdot \vB}
    \newcommand{\divJ}{\nabla \cdot \vJ}
    
    % Claim/Proof %
    \newcommand{\Claim}{{\bf Claim:\ \ }}
    \newcommand{\Proof}{{\bf Proof:\ \ }}



%%%%% Matrix and Column Vector Shortcuts %%%%%
    \newcommand{\twovec}[2]{\left[\begin{array}{c} #1\\ #2  \end{array}\right]} 
    \newcommand{\threevec}[3]{\left[\begin{array}{c} #1\\ #2 \\ #3 \end{array}\right]} 
    \newcommand{\fourvec}[4]{\left[\begin{array}{c} #1\\ #2 \\ #3\\ #4 \end{array}\right]}
    
    \newcommand{\twomat}[4]{\left[\begin{array}{cc} #1 & #2 \\ #3 & #4 \end{array}\right]}  



%%%%% Trigonometry %%%%%
    \newcommand{\acos}{\text{acos}}
    \newcommand{\acosh}{\text{acosh}}
    \newcommand{\asinh}{\text{asinh}}



%%%%%% GREEK ABREVIATIONS %%%%%
    % Upper %
    \newcommand{\Ga}{\Gamma}
    \newcommand{\De}{\Delta}
    \newcommand{\TTH}{\Theta}
    \newcommand{\La}{\Lambda}
    \newcommand{\Om}{\Omega}
    
    % Lower %
    \newcommand{\alp}{\alpha}
    \newcommand{\be}{\beta}
    \newcommand{\ga}{\gamma}
    \newcommand{\de}{\delta}
    \newcommand{\eps}{\epsilon}
    \newcommand{\ze}{\zeta}
    \newcommand{\et}{\eta}
    \newcommand{\veps}{\varepsilon}
    \newcommand{\tth}{\theta}
    \newcommand{\kap}{\kappa}
    \newcommand{\la}{\lambda}
    \newcommand{\rh}{\rho}
    \newcommand{\si}{\sigma}
    \newcommand{\ph}{\phi}
    \newcommand{\vphi}{\varphi}
    \newcommand{\om}{\omega}


%%%%%%  BOLD VECTORS (and some symbols)  %%%%%%
    \newcommand{\partialder}[2]{\frac{\partial #1}{\partial #2}}
    \newcommand{\fullder}[2]{\frac{d #1}{d #2}}
    \newcommand{\vA}{\mathbf{A}}
    \newcommand{\vB}{\mathbf{B}}
    \newcommand{\calB}{\mathcal{B}}
    \newcommand{\vcalB}{\boldsymbol{\mathcal{B}}}
    \newcommand{\vC}{\mathbf{C}}
    \newcommand{\vD}{\mathbf{D}}
    \newcommand{\vE}{\mathbf{E}}
    \newcommand{\calE}{\mathcal{E}}
    \newcommand{\vcalE}{\boldsymbol{\mathcal{E}}}
    \newcommand{\emf}{\mathcal{E}}
    \newcommand{\vF}{\mathbf{F}}
    \newcommand{\vJ}{\mathbf{J}}
    \newcommand{\vH}{\mathbf{H}}
    \newcommand{\vI}{\mathbf{I}}
    \newcommand{\vL}{\mathbf{L}}
    \newcommand{\vP}{\mathbf{P}}
    \newcommand{\vQ}{\mathbf{Q}}
    \newcommand{\vS}{\mathbf{S}}

        \newcommand{\va}{\mathbf{a}}
        \newcommand{\vj}{\mathbf{j}}
        \newcommand{\vf}{\mathbf{f}}
        \newcommand{\vg}{\mathbf{g}}
        \newcommand{\vk}{\mathbf{k}}
        \newcommand{\vm}{\mathbf{m}}
        \newcommand{\vp}{\mathbf{p}}
        \newcommand{\vr}{\mathbf{r}}
        \newcommand{\vs}{\mathbf{s}}
        \newcommand{\vu}{\mathbf{u}}
        \newcommand{\vv}{\mathbf{v}}
        \newcommand{\vx}{\mathbf{x}}
        \newcommand{\vy}{\mathbf{y}}
        \newcommand{\vz}{\mathbf{z}}

        % Hat Symbols %
        \newcommand{\ehat}{\hat{e}}
        \newcommand{\khat}{\hat{k}}
        \newcommand{\nhat}{\hat{n}}
        \newcommand{\vkhat}{\mathbf{\hat{k}}}
        \newcommand{\vrhat}{\mathbf{\hat{r}}}
        \newcommand{\vrh}{\mathbf{\hat{r}}}
        \newcommand{\vehat}{\mathbf{\hat{e}}}
        \newcommand{\vxhat}{\mathbf{\hat{x}}}
        \newcommand{\vxh}{\mathbf{\hat{x}}}
        \newcommand{\vyhat}{\mathbf{\hat{y}}}
        \newcommand{\vyh}{\mathbf{\hat{y}}}
        \newcommand{\zhat}{\hat{z}}
        \newcommand{\vzhat}{\mathbf{\hat{z}}}
        \newcommand{\vzh}{\mathbf{\hat{z}}}
        
        \newcommand{\Qhat}{\hat{Q}}

    % Greek %
    \newcommand{\bs}{\boldsymbol}
    
    \newcommand{\valp}{\boldsymbol{\alpha}}
    \newcommand{\vbe}{\boldsymbol \be}
    \newcommand{\vmu}{\boldsymbol{\mu}}
    \newcommand{\vsi}{\boldsymbol\sigma}
    \newcommand{\vtau}{\boldsymbol\tau}
    \newcommand{\vom}{\boldsymbol\omega}
    
        % Greek Unit Vectors %
        \newcommand{\vthhat}{\boldsymbol{\hat{\theta}}}
        \newcommand{\vrhohat}{\boldsymbol{\hat{\rho}}}
        \newcommand{\vphihat}{\boldsymbol{\hat{\phi}}}


    % Misc %
    \newcommand{\valpE}{\boldsymbol{\alpha}_{E1}}
    \newcommand{\valpEii}{\boldsymbol{\alpha}_{E2}}
    \newcommand{\valpM}{\boldsymbol{\alpha}_{M1}}
    
    \newcommand{\code}[1]{\quad \texttt{#1}}


\begin{document}
\begin{center}
{\Large Weld Lab git/GitHub Primer}

Peter Dotti
\end{center}

\section{Introduction}

This document is intended to establish basic git and GitHub practices in the Weld Lab and to be a simplified introduction to using git and GitHub.  The hope is that implementing these practices will enable the following:

\begin{enumerate}
\item Editing code without fear of disrupting a working version
\item Easily update versions of code once a testing version of the code is established
\item Inherent record keeping and version recording as automatically carried out by the git software
\item Backup versions (current and historical) of code as saved on both GitHub and the Citadel server
\item A unified procedure so that accessing and using other lab member code is easy
\end{enumerate}

While there is desktop software for GitHub (and, presumably, git more generally), I found it not to be sufficiently intuitive, robust, or easy to justify using it over command line inputs, so this document will focus on use of command line git.

Hopefully it will be easy and painless to do these things.  Please email / slack message me (Peter) if you have suggestions to improve this document in the future.  Additionally, I hope to use git on this document itself for easy editing.

\section{An Important Reference}

If you find that this primer is lacking some piece of information that you would like, I strongly recommend using the online ``git Book" from \url{https://git-scm.com/book/en/v2}.  I found it to be very well written and well organized, although it will certainly have more details than you need (although, you will likely not need most details past the fourth chapter, unless you wish to do more advanced things).

\section{Using git on your Computer}

Git revolves around the use of ``repositories."  A repository is just some directory (folder) on your computer with a hidden git file in it that designates it as a repository and allows you to set and keep track of files.

You are able to change the files in the repository however you'd like, using whatever code editor or program you'd like, but you will regularly want to make a ``\texttt{commit}" with git so that the version of the repository is saved.  Additionally, you will want to occasional use the ``\texttt{push}" command to use the current version of the repository on your computer to update some remotely saved version of the repository (i.e., you will use \texttt{push} to update a stored version of the code on GitHub and the Citadel)

From here on, I will assume that the reader has some command line tool with git installed on it (instructions on how to do that here: \url{https://git-scm.com/book/en/v2/Getting-Started-Installing-Git}).  I will also assume that the reader knows how to change directories and get directory path names in the command line.

\subsection{Making and Using a git Repository on your Computer}

Once you've navigated to the directory that you want to initialize as a repository, you run the command

\quad \texttt{git init}

At this point, you can fill the directory as usual (assuming it didn't already have code in it).  If you want something to test basic git functionality, I would recommend saving a text file in the directory and editing it.

At this point, you can use the command

\quad \texttt{git status}

And it will show something like

\texttt{On branch master}

\texttt{No commits yet}

\texttt{Untracked files:}

\quad \texttt{<A list of the files in the directory>}

The general meaning of this is that git knows that you have files in the directory that you might want to use as a repository, but they are currently ``untracked" and git is waiting for you to indicate which files you want it to keep track of edits for (and moreover, which files it should copy over to an external server such as GitHub or the Citadel when you ask it to do so).

To indicate which of the files in the list you want it to track, use the command:

\quad \texttt{git add <filename>}

for each of the files you'd like.  If you want it to track all of the files, you can conveniently use

\quad \texttt{git add --all}

There are fancier patterns to use.  I believe they generally follow the UNIX wildcard characters.  Resources exist online to learn them, such as \url{https://geek-university.com/linux/wildcard/}.  I'll give one example:

 \quad \texttt{git add *.m}
 
 Git will look for any file of the form \texttt{<}SOMETHING\texttt{>}.m, i.e., it will add any .m matlab file to the repository.
 
 You can now run 
 
 \quad \texttt{git status}
 
 again, and you should now see an indication that some files have been added.  The jargon is that these files are ``staged", and they are ready to be ``commited."
 
 Now it is time to use the \texttt{commit} command to tell git that you want it to mark this as a point in history that you would like remembered.  In other words, the \texttt{commit} command saves version of the current repository state.  
 
 Use the command
 
 \code{git commit -m "<Message describing this commit>"}

The message you enter should describe this version or why it is different from the last commit.

And that's about it for a repository on your computer!  You can now go along and make edits to the files in your repository.  Then you make commits whenever you see fit.  

The one last note I should make is that whenever a file is edited and you want to make a new commit, you have to once again use the \texttt{git add <filename>} command to once again stage the modified files (as if you were adding a new file again), before using the \texttt{commit} command.  However, it is generally more convenient to skip the \texttt{add} step and use

\code{git commit -am "<Message describing this commit>"}
 
If you missed it, I added an ``a" between the - and m.  That ``a" tells git to stage all of the modified files (but \emph{not} new or untracked files) and make a commit.
 
\subsection{Checking Status and Logs for a Repository}
  
In general, you can get helpful information about the status and history of a repository with the \texttt{git status} and \texttt{git log} commands.  
  
We have already seen use of \texttt{git status} above.  It will typically tell you what files have been modified or what new files have been added to the repository since the last commit.  It will also tell you whether or not the current commit has been used to update the remote repositories (e.g., GitHub or the Citadel).

\texttt{git log} will tell you about the version history of the repository.  Specifically, it will list out the previous commits in reverse chronological order.  Moreover, it will tell you if you ``branched off" other versions and merged them later on in the history (more info later).  

I recommend \texttt{git log --graph --decorate} which makes a sort of ascii art representation of the log history.
 
 \subsection{Looking at an Old Version}
 
 Now, suppose you think there was some code in a previous version that was lost or abandoned and needs resurrection.  We will now give a simple way to temporarily restore to that old version and view the file.  There are other methods, and I am frankly not sure if the \texttt{reset} command is more appropriate in most cases, but this seems the least invasive method of what I've learned in my bit of prep.

First, you will want to get the identifying number for the old commit that you want to see.  To get it, run \texttt{git log}.  Each commit will have a number (in hexadecimal) after it.  It will look like \texttt{commit 9a52cbc45aa6f5c6064c654ef7951081930274fb} for example.  

You can now use the command

\code{git checkout 9a52cbc}

(you only need the first 7 digits).  It will give some statement about going into `detached HEAD' state (which sounds worse than it is) along with some helpful advice.

Your files will now be in the state of the old commit corresponding to the number you gave it.  You can open the code from the repository directory in the usual way and it will be like you've gone back in time to that old commit.  You can even make a new branch with edits from it to save that state and use it as something to work on separate from the newest version.

To go back to the newest version, run

\code{git checkout <branchName>}

\texttt{<branchName>} will almost certainly be \texttt{master}, unless you have changed it (or want to checkout a different branch).  To see what named branches you have, you can run 

\code{git branch}

and it will return a list of branches (more on branches in the next section).
 
\subsection{Branches and How to Make Them}

I would like to keep a discussion of branches as brief as possible here.  A fuller introduction is at \url{https://git-scm.com/book/en/v2/Git-Branching-Branches-in-a-Nutshell}.  However, I believe it is necessary to know what a branch is to use remote repositories on GitHub and the Citadel, and this is one of our main goals.

As we saw before, git allows you to restore a repository to the state at a previous commit.  A natural question is ``Instead of just working with previous and current versions of a code set, is there a way to have multiple different working versions of code that sort of branched off from an earlier version?"  The answer is yes, and git calls these different working versions ``branches."

These branches can be especially useful if you want to keep a working version of the code as the master branch (git's preferred term for it) while editing in added functionality, that you want to be using and testing without corrupting the master version.

To make a new branch with the name \texttt{<branchName>}, enter

\code{git branch <branchName>}

Now to see what branch you are currently using, as well as all available branches, enter

\code{git branch}

You should see a list of branch names, one of which will have a * next to it, indicating that branch as the one you are working with.  You will probably see \texttt{* master}, since this is the default branch name for the first branch (it is also possible that ``master" will be some different name).  Also on the list will be the new branch you just made.  To switch to the new branch, enter

\code{git checkout <branchName>}

Now you can make commits as usual, and these changes will be tracked on this branch.  In essence, this branch represents one version of the code that you can alter and play with. 

If you want to switch between branches, you need only type

\code{git checkout <someBranchName>}

This will entirely change the state of your directory.  

One note on switching branches - depending on the type of file and editing software, you might need to close and reopen the file you are looking at for it to represent the new branch.  I don't believe this will be a problem with any code editing software, but it might be necessary if you are saving text files or something in your git folder.

\subsection{Merging Branches}

Lastly, I will discuss merging branches.  Consider the following situation:  I made some edits on this new branch I was working on.  I think it's good now and I'd like to combine it with the master branch (or some other branch).  However, the master branch has been updated by me or someone else since I started working on this new branch.  I would like to combine them somehow.

git has you covered with the \texttt{merge} command.  If you have two branches, branch1 and branch2, and you want to combine the two branches, you run

\code{git checkout branch1}\\
\code{git merge branch2}


\section{Using git with Remote Repositories (e.g. GitHub and the Citadel)}

\texttt{Test}

\end{document}